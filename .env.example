# =============================================================================
# Inframate - Your Infrastructure Companion
# Environment Configuration
# =============================================================================
# SECURITY: Copy this file to .env and fill in all REQUIRED secrets.
# NEVER commit .env to version control!
# =============================================================================

# -----------------------------------------------------------------------------
# Database Configuration
# -----------------------------------------------------------------------------
POSTGRES_USER=inframate
POSTGRES_PASSWORD=CHANGE_ME_TO_STRONG_PASSWORD
POSTGRES_DB=inframate
DB_PORT=5432

# -----------------------------------------------------------------------------
# Security Configuration - CRITICAL: REQUIRED IN PRODUCTION
# -----------------------------------------------------------------------------
# JWT Secret Key - Generate with: python -c "import secrets; print(secrets.token_urlsafe(32))"
# REQUIRED - Application will not start without this
JWT_SECRET_KEY=REQUIRED_GENERATE_WITH_SECRETS_MODULE

# Encryption Key for sensitive data (Fernet) - Generate with:
# python -c "from cryptography.fernet import Fernet; print(Fernet.generate_key().decode())"
# REQUIRED - Application will not start without this
ENCRYPTION_KEY=REQUIRED_GENERATE_WITH_FERNET_MODULE

# Initial admin password (only used on first startup to create admin user)
# IMPORTANT: Change this immediately after first login!
# REQUIRED for initial setup
INITIAL_ADMIN_PASSWORD=CHANGE_ME_IMMEDIATELY

# -----------------------------------------------------------------------------
# CORS Configuration
# -----------------------------------------------------------------------------
ALLOWED_ORIGINS=http://localhost:3000,http://127.0.0.1:3000

# -----------------------------------------------------------------------------
# API Configuration
# -----------------------------------------------------------------------------
BACKEND_PORT=8000
VITE_API_URL=http://localhost:8000

# -----------------------------------------------------------------------------
# Frontend Configuration
# -----------------------------------------------------------------------------
FRONTEND_PORT=3000

# -----------------------------------------------------------------------------
# Logging Configuration
# -----------------------------------------------------------------------------
LOG_LEVEL=INFO
LOG_FORMAT=text

# -----------------------------------------------------------------------------
# Docker Sandbox Configuration
# -----------------------------------------------------------------------------
DOCKER_SANDBOX_ENABLED=true
DOCKER_SANDBOX_IMAGE=inframate-sandbox:latest
DOCKER_SANDBOX_MEMORY=256m
DOCKER_SANDBOX_CPU=0.5

# -----------------------------------------------------------------------------
# Rate Limiting
# -----------------------------------------------------------------------------
RATE_LIMIT_WINDOW=60
RATE_LIMIT_MAX_REQUESTS=5

# -----------------------------------------------------------------------------
# Script Execution
# -----------------------------------------------------------------------------
SCRIPT_EXECUTION_TIMEOUT=300
MAX_OUTPUT_SIZE=1048576
SSH_TIMEOUT=30
WINRM_TIMEOUT=60

# =============================================================================
# SECURITY CHECKLIST FOR PRODUCTION DEPLOYMENT
# =============================================================================
# [ ] Generated strong JWT_SECRET_KEY (32+ bytes, URL-safe)
# [ ] Generated strong ENCRYPTION_KEY using Fernet
# [ ] Set strong POSTGRES_PASSWORD (16+ chars, mixed case, numbers, symbols)
# [ ] Set strong INITIAL_ADMIN_PASSWORD (12+ chars)
# [ ] Changed admin password after first login
# [ ] Updated ALLOWED_ORIGINS to production domain(s)
# [ ] Set LOG_FORMAT to json for structured logging
# [ ] Enabled DOCKER_SANDBOX_ENABLED for script isolation
# [ ] Created .env file with all secrets (NOT .env.example)
# [ ] Added .env to .gitignore
# [ ] Restricted .env file permissions (chmod 600 .env)
# =============================================================================
